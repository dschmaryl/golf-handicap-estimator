{"version":3,"sources":["reducer.ts","store.ts","components/Header.tsx","components/Handicap.tsx","containers/Handicap.ts","components/RoundAdd.tsx","containers/RoundAdd.ts","actions.ts","components/RoundList.tsx","containers/RoundList.ts","components/Footer.tsx","index.tsx","App.tsx"],"names":["calcHandicap","rounds","numOfDiffs","Math","max","floor","length","diffsSum","map","s","score","rating","slope","sort","a","b","slice","reduce","parseInt","String","min","initialState","handicap","store","createStore","state","arguments","undefined","action","type","concat","Object","toConsumableArray","objectSpread","round","index","Head","styled","header","_templateObject","Anchor","_templateObject2","Header","react_default","createElement","href","Div","div","Handicap_templateObject","Handi","span","Handicap_templateObject2","connect","anyRounds","_ref","replace","Label","label","RoundAdd_templateObject","Input","input","RoundAdd_templateObject2","Button","button","_templateObject3","RoundAdd","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","handleChange","event","_event$target","target","value","name","setState","defineProperty","handleKeyDown","keyCode","addRound","asNumString","numString","isNaN","parseFloat","props","renderInput","placeholder","toLowerCase","onKeyDown","onChange","render","onClick","inherits","React","Component","dispatch","RoundList_templateObject","Th","th","RoundList_templateObject2","Td","td","RoundList_templateObject3","_templateObject4","removeRound","RoundList_Div","key","RoundList_Button","reverse","Foot","footer","Footer_templateObject","Footer_templateObject2","Footer","Footer_Anchor","ReactDOM","es","react","Header_Header","containers_Handicap","containers_RoundAdd","containers_RoundList","Footer_Footer","document","getElementById"],"mappings":"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","file":"static/js/main.60c6b652.chunk.js","sourcesContent":["import { Reducer } from 'redux';\nimport { Rounds, State } from './types';\n\nconst calcHandicap = (rounds: Rounds) => {\n  const numOfDiffs = Math.max(1, Math.floor(rounds.length / 2));\n  const diffsSum = rounds\n    .map(s => ((s.score - s.rating) * 113) / s.slope)\n    .sort((a, b) => a - b)\n    .slice(0, numOfDiffs)\n    .reduce((a, b) => a + b);\n  return (\n    parseInt(\n      String(Math.max(-5, Math.min((diffsSum / numOfDiffs) * 0.96, 50)) * 10),\n      10\n    ) / 10\n  );\n};\n\nconst initialState: State = { rounds: [], handicap: 50 };\n\nexport const reducer: Reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_ROUND': {\n      const rounds: Rounds = [...state.rounds.slice(-19), { ...action.round }];\n      return { rounds, handicap: calcHandicap(rounds) };\n    }\n\n    case 'REMOVE_ROUND': {\n      const rounds = [\n        ...state.rounds.slice(0, action.index),\n        ...state.rounds.slice(action.index + 1)\n      ];\n\n      return {\n        rounds,\n        handicap: rounds.length > 0 ? calcHandicap(rounds) : 50\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n","import { createStore } from 'redux';\nimport { reducer } from './reducer';\n\nexport const store = createStore(reducer);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Head = styled.header`\n  padding-top: 4px;\n  padding-bottom: 6px;\n`;\n\nconst Anchor = styled.a`\n  text-decoration: none;\n  color: #999;\n  :hover {\n    color: #555;\n  }\n`;\n\nexport const Header: React.FC = () => (\n  <Head>\n    <h1>Golf Handicap Estimator</h1>\n    <p>\n      This can give you a rough estimate of your handicap using only the total\n      scores. The official algorithm as specified by the USGA is a little more\n      complicated since it involves adjusting scores based on the player's\n      current handicap, but this can give you an idea of what your handicap\n      would be.\n    </p>\n    <p>\n      The course rating and slope are usually listed on the scorecard from that\n      course, or you can look them up at the{' '}\n      <Anchor href=\"https://ncrdb.usga.org\">\n        National Course Rating Database\n      </Anchor>\n      . Using the correct rating and slope is important for the handicap to be\n      accurate, but the average rating (72) and slope (113) could be used.\n    </p>\n  </Head>\n);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Div = styled.div`\n  padding: 10px 0 30px 0;\n  font-size: 18px;\n`;\n\nconst Handi = styled.span`\n  font-weight: bold;\n`;\n\ntype HandicapProps = { anyRounds: boolean; handicap: number };\n\nexport const Handicap: React.FC<HandicapProps> = ({ anyRounds, handicap }) =>\n  !anyRounds ? (\n    <Div>Enter at least one score and as many as 20.</Div>\n  ) : (\n    <Div>\n      <span>\n        {'Your handicap is approximately: '}\n        <Handi>{('' + handicap).replace('-', '+')}</Handi>\n      </span>\n    </Div>\n  );\n","import { connect } from 'react-redux';\n\nimport { State } from '../types';\nimport { Handicap } from '../components/Handicap';\n\nconst mapStateToProps = (state: State) => ({\n  anyRounds: state.rounds.length > 0,\n  handicap: state.handicap\n});\n\nexport default connect(mapStateToProps)(Handicap);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Round } from '../types';\n\nconst Label = styled.label`\n  font-weight: bold;\n  padding-left: 4px;\n`;\n\nconst Input = styled.input`\n  text-align: right;\n  padding: 2px 4px 2px 0;\n  margin: 0 10px 0 6px;\n  width: 36px;\n`;\n\nconst Button = styled.button`\n  color: #555;\n  font-weight: bold;\n  margin-left: 10px;\n  width: 50px;\n`;\n\ntype Props = { addRound: Function };\n\nexport class RoundAdd extends React.Component<Props> {\n  state = { score: '', rating: '', slope: '' };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const {\n      target: { value, name }\n    } = event;\n    this.setState({ [name]: value });\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 13) this.addRound();\n  };\n\n  addRound = () => {\n    const asNumString = (numString: string) =>\n      isNaN(parseFloat(numString)) ? '' : numString;\n\n    const score = parseInt(asNumString(this.state.score), 10);\n    const rating = this.state.rating\n      ? parseFloat(asNumString(this.state.rating))\n      : 72;\n    const slope = this.state.slope\n      ? parseInt(asNumString(this.state.slope), 10)\n      : 113;\n\n    if (50 <= score && score <= 200) {\n      this.setState({ score: '' });\n      const round: Round = { score, rating, slope };\n      this.props.addRound(round);\n    }\n  };\n\n  renderInput = (label: string, value: string, placeholder: string) => (\n    <span>\n      <Label>{label}:</Label>\n      <Input\n        type=\"number\"\n        name={label.toLowerCase()}\n        value={value}\n        placeholder={placeholder}\n        onKeyDown={this.handleKeyDown}\n        onChange={this.handleChange}\n      />\n    </span>\n  );\n\n  render = () => (\n    <div>\n      {this.renderInput('Score', this.state.score, '')}\n      {this.renderInput('Rating', this.state.rating, '72')}\n      {this.renderInput('Slope', this.state.slope, '113')}\n      <Button onClick={this.addRound}>Add</Button>\n    </div>\n  );\n}\n","import { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { addRound } from '../actions';\nimport { Round } from '../types';\nimport { RoundAdd } from '../components/RoundAdd';\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  addRound: (round: Round) => dispatch(addRound(round))\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(RoundAdd);\n","import { Round } from './types';\n\nexport const addRound = (round: Round) => ({\n  type: 'ADD_ROUND',\n  round\n});\n\nexport const removeRound = (index: number) => ({ type: 'REMOVE_ROUND', index });\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Round, Rounds } from '../types';\n\nconst Div = styled.div`\n  padding-top: 30px;\n`;\n\nconst Th = styled.th`\n  text-align: center;\n  width: 72px;\n`;\n\nconst Td = styled.td`\n  text-align: center;\n`;\n\nconst Button = styled.button`\n  color: #555;\n  font-weight: bold;\n  display: block;\n  margin: auto;\n`;\n\ntype RoundListProps = { rounds: Rounds; removeRound: Function };\n\nexport const RoundList: React.FC<RoundListProps> = ({ rounds, removeRound }) =>\n  rounds.length === 0 ? (\n    <Div>no scores entered yet</Div>\n  ) : (\n    <Div>\n      <table>\n        <thead>\n          <tr>\n            <Th>Round</Th>\n            <Th>Score</Th>\n            <Th>Rating</Th>\n            <Th>Slope</Th>\n            <Th>Delete</Th>\n          </tr>\n        </thead>\n        <tbody>\n          {rounds\n            .map((round: Round, index: number) => (\n              <tr key={'round-' + index}>\n                <Td>{index + 1}</Td>\n                <Td>{round.score}</Td>\n                <Td>{round.rating}</Td>\n                <Td>{round.slope}</Td>\n                <Td>\n                  <Button onClick={() => removeRound(index)}>X</Button>\n                </Td>\n              </tr>\n            ))\n            .reverse()}\n        </tbody>\n      </table>\n    </Div>\n  );\n","import { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { State } from '../types';\nimport { removeRound } from '../actions';\nimport { RoundList } from '../components/RoundList';\n\nconst mapStateToProps = (state: State) => ({ rounds: state.rounds });\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  removeRound: (index: number) => dispatch(removeRound(index))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RoundList);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Foot = styled.footer`\n  padding-top: 40px;\n`;\n\nconst Anchor = styled.a`\n  text-decoration: none;\n  color: #bbb;\n  :hover {\n    color: #555;\n  }\n`;\n\nexport const Footer: React.FC = () => (\n  <Foot>\n    <Anchor href=\"https://github.com/dschmaryl/golf-handicap-estimator\">\n      Click here to see it on GitHub.\n    </Anchor>\n  </Foot>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { store } from './store';\nimport { App } from './App';\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","import React, { Fragment } from 'react';\n\nimport { Header } from './components/Header';\nimport Handicap from './containers/Handicap';\nimport RoundAdd from './containers/RoundAdd';\nimport RoundList from './containers/RoundList';\nimport { Footer } from './components/Footer';\n\nexport const App: React.FC = () => (\n  <Fragment>\n    <Header />\n    <Handicap />\n    <RoundAdd />\n    <RoundList />\n    <Footer />\n  </Fragment>\n);\n"],"sourceRoot":""}